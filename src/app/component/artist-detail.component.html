<div *ngIf="loading" class="loader">
    <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
</div>

<div *ngIf="!loading">
    <mat-card>
        <h1 class="mat-headline">{{artist.name}}</h1>
    </mat-card>
</div>

<mat-card class="card-standalone card-nopadding" *ngIf="!loading">
    <mat-tab-group>
        <mat-tab label="Album" *ngIf="releaseGroups.album.length > 0">
            <mat-grid-list [cols]="numCols()" rowHeight="1:1">
                <mat-grid-tile
                        *ngFor="let releaseGroup of releaseGroups.album | secondaryType:secondaryTypes; trackBy: trackById"
                        [releaseGroupCover]="releaseGroup" class="release-group"
                        (click)="showReleaseGroup(releaseGroup)">
                    <mat-grid-tile-footer>
                        <h3 mat-line>{{releaseGroup.title}}</h3>
                        <h4 mat-line>{{releaseGroup.firstReleaseDate | flexDate}}</h4>
                    </mat-grid-tile-footer>
                </mat-grid-tile>
            </mat-grid-list>
        </mat-tab>
        <mat-tab label="Single" *ngIf="releaseGroups.single.length > 0">
            <mat-grid-list [cols]="numCols()" rowHeight="1:1">
                <mat-grid-tile *ngFor="let releaseGroup of releaseGroups.single" [releaseGroupCover]="releaseGroup"
                              class="release-group" (click)="showReleaseGroup(releaseGroup)">
                    <mat-grid-tile-footer>
                        <h3 mat-line>{{releaseGroup.title}}</h3>
                        <h4 mat-line>{{releaseGroup.firstReleaseDate | flexDate}}</h4>
                    </mat-grid-tile-footer>
                </mat-grid-tile>
            </mat-grid-list>
        </mat-tab>
        <mat-tab label="EP" *ngIf="releaseGroups.ep.length > 0">
            <mat-grid-list [cols]="numCols()" rowHeight="1:1">
                <mat-grid-tile *ngFor="let releaseGroup of releaseGroups.ep" [releaseGroupCover]="releaseGroup"
                              class="release-group" (click)="showReleaseGroup(releaseGroup)">
                    <mat-grid-tile-footer>
                        <h3 mat-line>{{releaseGroup.title}}</h3>
                        <h4 mat-line>{{releaseGroup.firstReleaseDate | flexDate}}</h4>
                    </mat-grid-tile-footer>
                </mat-grid-tile>
            </mat-grid-list>
        </mat-tab>
        <mat-tab label="Broadcast" *ngIf="releaseGroups.broadcast.length > 0">
            <mat-grid-list [cols]="numCols()" rowHeight="1:1">
                <mat-grid-tile *ngFor="let releaseGroup of releaseGroups.broadcast" [releaseGroupCover]="releaseGroup"
                              class="release-group" (click)="showReleaseGroup(releaseGroup)">
                    <mat-grid-tile-footer>
                        <h3 mat-line>{{releaseGroup.title}}</h3>
                        <h4 mat-line>{{releaseGroup.firstReleaseDate | flexDate}}</h4>
                    </mat-grid-tile-footer>
                </mat-grid-tile>
            </mat-grid-list>
        </mat-tab>
        <mat-tab label="Other" *ngIf="releaseGroups.other.length > 0">
            <mat-grid-list [cols]="numCols()" rowHeight="1:1">
                <mat-grid-tile *ngFor="let releaseGroup of releaseGroups.other" [releaseGroupCover]="releaseGroup"
                              class="release-group" (click)="showReleaseGroup(releaseGroup)">
                    <mat-grid-tile-footer>
                        <h3 mat-line>{{releaseGroup.title}}</h3>
                        <h4 mat-line>{{releaseGroup.firstReleaseDate | flexDate}}</h4>
                    </mat-grid-tile-footer>
                </mat-grid-tile>
            </mat-grid-list>
        </mat-tab>
    </mat-tab-group>
</mat-card>
